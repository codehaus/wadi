rename DIndex -> GIndex
refactor request/response structure
switch off bucket regeneration and harden rebucketing
think of a better name than bucket
switch on bucket regeneration and harden
run concurrent requests through and harden

DefaultCluster creates StateServiceImpl in its ctor
StateServiceImpl sets up Timer in its ctor
if DefaultCluster.start is not called in time, Timer will go off before start() is called and distribute Nodes distributed State...
FIX

synchronised transferBucketRequest stub
xs

deregister listeners


















GroundWork
-----------

take a bart from Powell -> Berkley - get off at MacArthur
10 mins... across the bay
call cellphone.

9:00-ish




ACTIVECLUSTER:
--------------

pluggable election policy
sync coordinator handover
StateService does not start until Node starts
Coordinator correctly elected


WADI
----

deregister listeners at correct time...
node shuts down whilst no coordinator available ? - if you are no longer coordinator when message arrives - forward it
if you do not get a reply from the coordinator - wait and try again...

DO NOT QUIT whilst involved in a sync message exchange



SHOULD NOT TAKE ON ANY BUCKETS UNTIL SHUTDOWN HOOK IS INSTALLED ????
or do we just treat this as a catastrophic failure.. ?

Jetty does not add hook until all Servers are started...
