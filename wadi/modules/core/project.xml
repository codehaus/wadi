<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE project>

<project>
  <pomVersion>3</pomVersion>
  <extend>${basedir}/../../project.xml</extend>

  <!-- ===================== -->
  <!-- Module Identification -->
  <!-- ===================== -->

  <name>WADI :: Core</name>
  <id>wadi-core</id>
  <description>Core WADI functionality</description>
  <shortDescription>WADI core</shortDescription>

  <package>org.codehaus.wadi</package>
  <packageGroups>
    <packageGroup>
      <title>WADI Core</title>
      <packages>org.codehaus.wadi:org.codehaus.wadi</packages>
    </packageGroup>
  </packageGroups>

  <!-- ============ -->
  <!-- Dependencies -->
  <!-- ============ -->

  <dependencies>
    <dependency>
      <groupId>geronimo-spec</groupId>
      <artifactId>geronimo-spec-j2ee-management</artifactId>
      <version>1.0-rc2</version>
      <url>http://geronimo.apache.org</url>
      <javadoc>http://geronimo.apache.org/specs/j2ee-management/apidocs</javadoc>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>geronimo-spec</groupId>
      <artifactId>geronimo-spec-jms</artifactId>
      <version>1.1-rc2</version>
      <url>http://geronimo.apache.org</url>
      <javadoc>http://geronimo.apache.org/specs/jms/apidocs</javadoc>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>mx4j</groupId>
      <artifactId>mx4j-jmx</artifactId>
      <version>2.0.1</version>
      <url>http://mx4j.sourceforge.net</url>
      <javadoc>http://mx4j.sourceforge.net/docs/api</javadoc>
    </dependency>

    <dependency>
      <groupId>jcache</groupId>
      <artifactId>jcache</artifactId>
      <version>1.0-dev-2</version>
      <url>???</url>
      <javadoc>???</javadoc>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <!-- for axion -->
    <dependency>
      <groupId>commons-primitives</groupId>
      <artifactId>commons-primitives</artifactId>
      <version>1.0</version>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>commons-collections</groupId>
      <artifactId>commons-collections</artifactId>
      <version>3.1</version>
    </dependency>

    <dependency>
      <groupId>regexp</groupId>
      <artifactId>regexp</artifactId>
      <version>1.3</version>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>axion</groupId>
      <artifactId>axion</artifactId>
      <version>1.0-M3-dev</version>
      <url>http://db.apache.org</url>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <!-- run time -->

    <dependency>
      <id>commons-httpclient</id>
      <version>2.0.2</version>
      <url>http://jakarta.apache.org/commons/httpclient/</url>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
      <javadoc>http://jakarta.apache.org/commons/httpclient/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>commons-el</groupId>
      <artifactId>commons-el</artifactId>
      <version>1.0</version>
    </dependency>

    <dependency>
      <groupId>activemq</groupId>
      <artifactId>activemq</artifactId>
      <version>3.1-SNAPSHOT</version>
      <url>http://activemq.codehaus.org</url>
      <javadoc>http://activemq.codehaus.org/maven/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>activecluster</groupId>
      <artifactId>activecluster</artifactId>
      <version>1.1-SNAPSHOT</version>
      <url>http://activecluster.codehaus.org</url>
      <javadoc>http://activecluster.codehaus.org/maven/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<war.bundle>true</war.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>xerces</groupId>
      <artifactId>xerces</artifactId>
      <version>2.4.0</version>
    </dependency>

    <dependency>
      <groupId>jgroups</groupId>
      <artifactId>jgroups-all</artifactId>
      <version>2.2.8</version>
    </dependency>

  </dependencies>

  <build>

    <unitTestSourceDirectory></unitTestSourceDirectory>
    <integrationUnitTestSourceDirectory/>

    <unitTest>
      <resources>
        <resource>
          <directory>src/test</directory>
          <includes>
            <include>**/*.properties</include>
            <include>**/*.xml</include>
          </includes>
        </resource>
      </resources>
      <excludes>
        <exclude>**/old/**</exclude>
        <exclude>**/test/TestActiveCluster.java</exclude>
        <exclude>**/test/TestActiveCluster.java</exclude>

        <exclude>**/test/io/TestMotion.java</exclude><!-- seems to hang -->
        <exclude>**/test/io/TestServers.java</exclude><!-- seems to hang -->
        <exclude>**/test/TestRelocation.java</exclude><!-- seems to hang -->
        <exclude>**/test/TestHttpSession.java</exclude><!-- seems to hang -->
        <exclude>**/test/TestCluster.java</exclude><!-- seems to hang -->
      </excludes>
      <includes>
<!--
        <include>**/test/Test*.java</include>
        <include>**/test/io/Test*.java</include>
-->
	<!-- work -->
<!--
        <include>**/TestJCache.java</include>
        <include>**/TestConcurrency.java</include>
        <include>**/TestHttpSession.java</include>
        <include>**/TestManagers.java</include>
        <include>**/TestTopologies.java</include>
	<include>**/TestCluster.java</include>
-->
	<!-- should work -->
	<!--
	<include>**/TestAsyncToSyncAdaptor.java</include>
	-->
	<!-- fossils ? -->
	<!--
	<include>**/TestLocationClient.java</include>
	<include>**/TestLocationServer.java</include>
	<include>**/TestMigrationService.java</include>
	<include>**/TestMulticastServer.java</include>
	<include>**/TestSerialisation.java</include>
	<include>**/TestUnicastClient.java</include>
	-->
      </includes>
    </unitTest>

    <resources>
      <resource>
        <directory>src/conf</directory>
        <includes>
          <include>**/*</include>
        </includes>
      </resource>
      <resource>
        <directory>${basedir}/target/xmlbeans</directory>
        <includes>
          <include>schema/**/*.xsb</include>
        </includes>
      </resource>
    </resources>

  </build>

</project>
