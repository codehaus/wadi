<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE project>

<project>
  <pomVersion>3</pomVersion>
  <extend>${basedir}/../../project.xml</extend>

  <!-- ===================== -->
  <!-- Module Identification -->
  <!-- ===================== -->

  <name>WADI :: Core</name>
  <id>wadi-core</id>
  <description>Core WADI functionality</description>
  <shortDescription>WADI core</shortDescription>

  <package>org.codehaus.wadi</package>
  <packageGroups>
    <packageGroup>
      <title>WADI Core</title>
      <packages>org.codehaus.wadi:org.codehaus.wadi</packages>
    </packageGroup>
  </packageGroups>

  <!-- ============ -->
  <!-- Dependencies -->
  <!-- ============ -->

  <dependencies>
    <dependency>
      <groupId>geronimo-spec</groupId>
      <artifactId>geronimo-spec-j2ee-management</artifactId>
      <version>1.0-rc2</version>
      <url>http://geronimo.apache.org</url>
      <javadoc>http://geronimo.apache.org/specs/j2ee-management/apidocs</javadoc>
    </dependency>

    <dependency>
      <groupId>geronimo-spec</groupId>
      <artifactId>geronimo-spec-jms</artifactId>
      <version>1.1-rc2</version>
      <url>http://geronimo.apache.org</url>
      <javadoc>http://geronimo.apache.org/specs/jms/apidocs</javadoc>
    </dependency>

    <dependency>
      <groupId>jcache</groupId>
      <artifactId>jcache</artifactId>
      <version>1.0-dev-2</version>
      <url>???</url>
      <javadoc>???</javadoc>
    </dependency>

    <!-- for axion -->

    <dependency>
      <groupId>commons-primitives</groupId>
      <artifactId>commons-primitives</artifactId>
      <version>1.0</version>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>commons-collections</groupId>
      <artifactId>commons-collections</artifactId>
      <version>3.1</version>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>axion</groupId>
      <artifactId>axion</artifactId>
      <version>1.0-M3-dev</version>
      <url>http://db.apache.org</url>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <!-- run time -->

    <dependency>
      <id>commons-httpclient</id>
      <version>2.0.2</version>
      <url>http://jakarta.apache.org/commons/httpclient/</url>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
      <javadoc>http://jakarta.apache.org/commons/httpclient/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>commons-el</groupId>
      <artifactId>commons-el</artifactId>
      <version>1.0</version>
    </dependency>

    <dependency>
      <groupId>activemq</groupId>
      <artifactId>activemq</artifactId>
      <version>3.2-SNAPSHOT</version>
      <url>http://activemq.codehaus.org</url>
      <javadoc>http://activemq.codehaus.org/maven/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>activecluster</groupId>
      <artifactId>activecluster</artifactId>
      <version>1.1-SNAPSHOT</version>
      <url>http://activecluster.codehaus.org</url>
      <javadoc>http://activecluster.codehaus.org/maven/apidocs</javadoc>
      <type>jar</type>
      <properties>
	<dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>xerces</groupId>
      <artifactId>xerces</artifactId>
      <version>2.4.0</version>
    </dependency>

    <dependency>
      <groupId>jgroups</groupId>
      <artifactId>jgroups-all</artifactId>
      <version>2.2.8</version>
    </dependency>

    <dependency>
      <groupId>mysql-connector-java</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>3.1.11-bin</version>
    </dependency>

    <dependency>
      <groupId>regexp</groupId>
      <artifactId>regexp</artifactId>
      <version>1.3</version>
      <properties>
        <dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

    <dependency>
      <groupId>axion</groupId>
      <artifactId>axion</artifactId>
      <version>1.0-M3-dev</version>
      <url>http://db.apache.org</url>
      <properties>
        <dist.bundle>lib</dist.bundle>
      </properties>
    </dependency>

  </dependencies>

  <build>

    <unitTestSourceDirectory>src/test</unitTestSourceDirectory>
    <integrationUnitTestSourceDirectory/>

    <unitTest>

      <excludes>

<!--        <exclude>**/**</exclude> -->

        <exclude>**/old/**</exclude>

        <exclude>**/TestCluster.java</exclude><!-- hangs -->
        <exclude>**/TestHttpSession.java</exclude><!-- hangs -->

        <exclude>**/TestJCache.java</exclude><!-- fails -->
        <exclude>**/TestAttributes.java</exclude><!-- fails -->
        <exclude>**/TestContextualiser.java</exclude><!-- fails -->
        <exclude>**/TestEvicters.java</exclude><!-- fails -->
        <exclude>**/TestMotion.java</exclude><!-- fails -->
        <exclude>**/TestServers.java</exclude><!-- fails -->

        <exclude>**/TestGCache.java</exclude><!-- slow -->
        <exclude>**/TestDIndex.java</exclude><!-- slow -->
        <exclude>**/TestActiveCluster.java</exclude><!-- slow -->

        <exclude>**/TestGianni.java</exclude><!-- needs mysql running -->
        <exclude>**/TestReplication.java</exclude><!-- needs mysql running -->

      </excludes>

      <includes>
        <include>**/Test*.java</include>
      </includes>

    </unitTest>

  </build>

</project>
